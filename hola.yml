- name: Hello World Sample
  hosts: all
  tasks:
    - name: Hello Message
      debug:
        msg: "Hello World!"
    - name: Hello Message
      debug:
        msg: "Hello World!aaaaa"
        
    - name: Read a kv1 secret from Vault via the remote host with userpass auth
      vault_kv1_get:
        url: http://192.168.122.254:8200
        path: cubbyhole/mario
        auth_method: token
        token: hvs.G2Uo0JSlMIIaBK9lV9p2ULV8
      register: response
    
    - name: Display the results
      ansible.builtin.debug:
        msg:
          - "Secret: {{ response.secret }}"
          - "Data: {{ response.data }} (same as secret in kv1)"
          - "Metadata: {{ response.metadata }} (response info in kv1)"
          - "Full response: {{ response.raw }}"
          - "Value of key 'password' in the secret: {{ response.secret.password }}"
